---
import Layout from '../layouts/Layout.astro'
import { LoginForm } from '@/components/login-form'

const { cookies, redirect } = Astro

const accessToken = cookies.get('sb-access-token')
const refreshToken = cookies.get('sb-refresh-token')

if (accessToken && refreshToken) {
  return redirect('/dashboard')
}
---

<Layout title='Sign in'>
  <!-- <h1>Sign in</h1>
  <form action='/api/auth/signin' method='post'>
    <label for='email'>Email</label>
    <input type='email' name='email' id='email' />
    <label for='password'>Password</label>
    <input type='password' name='password' id='password' />
    <button type='submit'>Login</button>
  </form> -->
  <div class='flex min-h-svh w-full items-center justify-center p-6 md:p-10'>
    <div class='w-full max-w-sm'>
      <LoginForm />
    </div>
  </div>
</Layout>
